<style>
.listingblock a.view-result {
float: right;
font-weight: normal;
text-decoration: none;
font-size: 0.9em;
line-height: 1.4;
margin-top: 0.15em;
}
.exampleblock.result {
display: none;
}
</style>
<script src="http://asciidoctor.org/javascripts/vendor/zepto.js"></script>
<script type="text/javascript">
function toggle_result_block(e) {
  this.prev().toggleClass('stacked');
  this.toggle();
  return false;
}

function insert_result_links() {
  $('.result').each(function(idx, node) {
    znode = $(node);
    p = $(znode.parent().children()[0]);
    p.append(' <a class="view-result" href="#">[ view result ]</a>');
    view_result_link = p.children().last();
    view_result_link.on('click', $.proxy(toggle_result_block, znode));
  });
}

$(insert_result_links);
</script>
